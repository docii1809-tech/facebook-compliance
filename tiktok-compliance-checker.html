<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Video & Text Compliance Checker – 2026 Strike-Shield</title>
    <style>
        :root { --tt-pink: #FE2C55; --tt-cyan: #25F4EE; --dark: #010101; }
        body { font-family: 'Inter', sans-serif; background-color: #f8f8f8; margin: 0; padding: 0; line-height: 1.6; }
        .container { max-width: 900px; margin: 20px auto; background: white; padding: 40px; border-radius: 20px; border-top: 8px solid var(--tt-pink); box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        .tab-container { display: flex; gap: 10px; margin-bottom: 20px; }
        .tab { padding: 10px 20px; border-radius: 30px; border: 1px solid #ddd; cursor: pointer; font-weight: bold; }
        .tab.active { background: var(--tt-pink); color: white; border-color: var(--tt-pink); }
        
        .tool-box { background: #fafafa; padding: 30px; border-radius: 15px; border: 1px solid #eee; }
        textarea { width: 100%; height: 120px; padding: 15px; border: 1px solid #ddd; border-radius: 10px; font-size: 16px; box-sizing: border-box; }
        .file-input-wrapper { display: none; text-align: center; padding: 40px; border: 2px dashed #ddd; border-radius: 12px; margin-bottom: 15px; background: white; }
        
        button { background-color: var(--tt-pink); color: white; border: none; padding: 18px 40px; font-size: 18px; font-weight: bold; border-radius: 50px; cursor: pointer; width: 100%; margin-top: 15px; transition: 0.3s; }
        #result { margin-top: 30px; padding: 25px; border-radius: 12px; display: none; background: white; border: 1px solid #eee; }
        .progress-container { width: 100%; height: 14px; background: #e9ecef; border-radius: 10px; overflow: hidden; margin: 15px 0; }
        .progress-bar { height: 100%; width: 0%; transition: width 0.8s ease-in-out; }
    </style>
</head>
<body>
<div class="container">
    <a href="index.html" style="text-decoration:none; color:var(--tt-pink); font-weight:bold;">← Back to Hub</a>
    <h1>TikTok 2026 Strike-Shield</h1>
    <p>Scan your <strong>Video Files</strong> and <strong>Captions</strong> for 2026 Algorithmic Triggers.</p>

    <div class="tab-container">
        <div id="textTab" class="tab active" onclick="switchMode('text')">Scan Caption</div>
        <div id="videoTab" class="tab" onclick="switchMode('video')">Scan Video File</div>
    </div>

    <div class="tool-box">
        <!-- TEXT MODE -->
        <div id="textInputArea">
            <textarea id="userText" placeholder="Paste your TikTok description or script here..."></textarea>
        </div>

        <!-- VIDEO MODE -->
        <div id="videoInputArea" class="file-input-wrapper">
            <input type="file" id="videoFile" accept="video/*" style="margin-bottom:10px;"><br>
            <small>AI will scan video metadata and filename for 2026 visual triggers.</small>
        </div>

        <button onclick="runScan()">Run 2026 Strike-Shield Scan</button>

        <div id="result">
            <div id="riskTitle" style="font-size:22px; font-weight:bold; margin-bottom:10px;"></div>
            <div class="progress-container"><div id="bar" class="progress-bar"></div></div>
            <div id="expertAnalysis" style="background:#f8f9fa; padding:20px; border-radius:10px; border-left:5px solid #ccc;"></div>
        </div>
    </div>
</div>

<script>
let currentMode = 'text';

function switchMode(mode) {
    currentMode = mode;
    document.getElementById('textTab').className = mode === 'text' ? 'tab active' : 'tab';
    document.getElementById('videoTab').className = mode === 'video' ? 'tab active' : 'tab';
    document.getElementById('textInputArea').style.display = mode === 'text' ? 'block' : 'none';
    document.getElementById('videoInputArea').style.display = mode === 'video' ? 'block' : 'none';
}

function runScan() {
    const resultDiv = document.getElementById('result');
    const bar = document.getElementById('bar');
    const riskTitle = document.getElementById('riskTitle');
    const expertAnalysis = document.getElementById('expertAnalysis');
    
    let riskScore = 0;
    let detections = [];

    if (currentMode === 'text') {
        const text = document.getElementById('userText').value.toLowerCase();
        if(!text) { alert("Please paste text."); return; }
        
        const rules = [
            { word: "vape", risk: 45, cat: "Regulated Goods" },
            { word: "challenge", risk: 35, cat: "Dangerous Acts" },
            { word: "free", risk: 15, cat: "Promotional Spam" }
        ];
        rules.forEach(r => { if(text.includes(r.word)) { riskScore += r.risk; detections.push(r.cat); } });
    } else {
        const fileInput = document.getElementById('videoFile');
        if(!fileInput.files[0]) { alert("Please select a video file."); return; }
        
        // Scan Filename for "Lazy Meta-Data"
        const fileName = fileInput.files[0].name.toLowerCase();
        if(fileName.includes("vape") || fileName.includes("smoke")) { riskScore += 50; detections.push("Visual Content Match (Filename)"); }
        if(fileInput.files[0].size > 500000000) { riskScore += 20; detections.push("Bitrate Overload (Bot Flag)"); }
        
        // Add Base Risk for Video (Since 2026 AI is stricter on video)
        riskScore += 15; 
    }

    if(riskScore > 100) riskScore = 100;
    resultDiv.style.display = "block";
    let color = riskScore > 60 ? "#FE2C55" : (riskScore > 30 ? "#ffc107" : "#28a745");

    riskTitle.innerHTML = `2026 RISK SCORE: ${riskScore}%`;
    riskTitle.style.color = color;
    bar.style.width = riskScore + "%";
    bar.style.backgroundColor = color;
    
    expertAnalysis.style.borderLeftColor = color;
    expertAnalysis.innerHTML = `
        <p><strong>Detections:</strong> ${detections.length > 0 ? detections.join(', ') : 'No high-level flags.'}</p>
        <p><strong>Expert Analysis:</strong> ${riskScore > 40 ? 
        'This content triggers 2026 Neural-Net filters. Posting may result in an immediate shadowban. <br><a href="shop.html" style="font-weight:bold; color:'+color+';">Download the Shadowban Bible ($29) →</a>' : 
        'Metadata and structure pass 2026 safety protocols.'}</p>
    `;
}
</script>
</body>
</html>
